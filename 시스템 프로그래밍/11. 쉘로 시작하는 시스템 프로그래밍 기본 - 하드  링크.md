# 쉘로 시작하는 시스템 프로그래밍 기본 - 하드  링크



### 하드 링크와 소프트 링크

- cp 명령 : 파일 복사
  - 1MB 사이즈를 가지고 있는 A 파일을 B 파일로 복사
    - cp A B -> A와 B는 각각 물리적으로 10MB 파일로 저장
- 하드 링크 : ln A B
  - A와 B는 동일한 10MB 파일을 가리킴
  - 즉, 동일한 파일을 가진 이름을 하나 더 만든 것일 뿐
    - 그래서, inode는 동일
    - 전체 파일 용량은 달라지지 않음
  - ls -i (파일 inode 확인하기)
  - ls -al  (완전 동일한 파일)
  - rm  A 로 A를 삭제하면? B는 그래도 해당 파일 접근 가능
    - A : 해당 inode 이 정보만 삭제되고, inode를 가진 실제 파일은 그대로 남음
- 소프트(심볼릭) 링크 : ln -s A B
  - Windows OS의 바로가기와 동일
  - ls -al하면, 소프트 링크 확인 가능
  - rm A로 A를 삭제하면? B는 해당 파일 접근 불가



### 특수 파일

- 디바이스

  - 블록 디바이스(Block Device)

    : HDD, CD/DVD와 같이 블록 또는 섹터 등 정해진 단위로 데이터 전송, IO 송수신 속도가 높음

  - 캐릭터 디바이스(Character Device)

    : 키보드, 마우스등 byte 단위 데이터 전송, IO 송수신 속도가 낮음

  - cd /dev, cat tty

```
brw-r-----		disk0
crw-rw-rw-		tty
```



### 정리

- 파일 추상화 인터페이스를 활용 다양한 데이터/디바이스 접근
- 파일 네임스페이스는 전역 네임스페이스 활용 (/media/floofy/chanqun.jpg)
- '파일이름:inode'로 매칭, 파일 시스템은 inode 기반 접근
- 하드 링크 : 동일 inode 가리키는 파일 이름만 하나 더 만듬
- 소프트 링크 : 특정 파일 바로가기 파일을 만듬
- ln 명령 알아두기
- 특수 파일 : 블록/캐릭터 디바이스

 